<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>6D Address â€” Somalia</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/somalia-map.css" />
</head>
<body>
  <!-- Map canvas -->
  <div id="map"></div>

  <!-- Floating brand plaque -->
  <div id="logo-container">
    <img src="assets/logo-somalia.png" alt="6D Address Somalia" />
  </div>

  <!-- Sidebar -->
  <div id="sidebar" class="sidebar collapsed" aria-expanded="false">
    <div class="sidebar__header">
      <button id="sidebarToggle" class="sidebar__toggle" aria-label="Toggle sidebar">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
      <div class="sidebar__title link-text">6D Address Somalia</div>
    </div>

    <div class="sidebar__scroll">
      <nav class="sidebar__nav" aria-label="Main">
        <a class="sidebar__link" href="/index.html">
          <span class="sidebar__icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 2a10 10 0 100 20 10 10 0 000-20Zm0 0c3 3 3 15 0 20m0-20C9 5 9 19 12 22M2 12h20M4 7h16M4 17h16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
            </svg>
          </span>
          <span class="link-text">Global Map</span>
        </a>
        <a class="sidebar__link" href="#">
          <span class="sidebar__icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5"/>
              <path d="M12 7v6m0 4h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="link-text">About Us</span>
        </a>
        <a class="sidebar__link" href="#">
          <span class="sidebar__icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 6h16v12H4z" stroke="currentColor" stroke-width="1.5" />
              <path d="M4 7l8 6 8-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
            </svg>
          </span>
          <span class="link-text">Contact Us</span>
        </a>
      </nav>

      <div class="sidebar__utility">
        <a class="sidebar__link" href="#">
          <span class="sidebar__icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M19.4 15a1.5 1.5 0 010-1.9l1.7-2.9-1.7-2.9a1.5 1.5 0 01.6-2l-2.8-1.6a1.5 1.5 0 01-2 .6L12 2.6l-2.9 1.7a1.5 1.5 0 01-2-.6L4.3 5.6a1.5 1.5 0 01.6 2L3.2 10.5l1.7 2.9a1.5 1.5 0 010 1.9l-1.7 2.9 2.9 1.7a1.5 1.5 0 012-.6L12 21.4l2.9-1.7a1.5 1.5 0 012 .6l2.8-1.6a1.5 1.5 0 01-.6-2L21.1 12l-1.7-2.9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="link-text">Settings</span>
        </a>

        <label class="sidebar__link sidebar__link--toggle switch">
          <input id="themeToggle" type="checkbox" aria-label="Toggle light mode" />
          <span class="slider" aria-hidden="true"></span>
          <span class="switch__label link-text">Light mode</span>
        </label>
      </div>

      <!-- Registration view -->
      <section id="view-register" class="sidebar-view">
        <form id="registerForm">
          <div class="field">
            <label for="code">6D Code</label>
            <input id="code" type="text" readonly />
          </div>
          <div class="field">
            <label for="name">Name</label>
            <input id="name" type="text" autocomplete="name" />
          </div>
          <div class="field">
            <label for="phone">Phone Number</label>
            <input id="phone" type="tel" autocomplete="tel" />
          </div>
          <div class="field">
            <label for="region">Region</label>
            <select id="region"></select>
          </div>
          <div class="field">
            <label for="district">District</label>
            <select id="district"></select>
          </div>
          <button type="submit" class="btn btn--primary">Submit</button>
        </form>
      </section>
    </div>
  </div>


  <!-- Floating Find My 6D Address Button (initial state) -->
  <button id="find-my-address-btn" class="floating-card floating-btn" type="button">Find My 6D Address</button>

  <!-- Floating Info Panel (hidden by default) -->
  <div id="info-panel" class="floating-card info-panel" style="display:none;">
    <div class="info-panel__actions">
      <button id="recenter-btn" class="icon-btn" title="Recenter" style="display:none;">
        <!-- Recenter SVG -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M12 8v4l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <button id="copy-btn" class="icon-btn" title="Copy Address">
        <!-- Copy SVG -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/><rect x="2" y="2" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/></svg>
      </button>
      <button id="share-btn" class="icon-btn" title="Share">
        <!-- Share SVG -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="18" cy="5" r="3" stroke="currentColor" stroke-width="2"/><circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2"/><circle cx="18" cy="19" r="3" stroke="currentColor" stroke-width="2"/><path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="info-panel__code-plaque">
      <span id="code-part-1" class="code-part code-red">45</span>
      <span class="code-dash">-</span>
      <span id="code-part-2" class="code-part code-green">78</span>
      <span class="code-dash">-</span>
      <span id="code-part-3" class="code-part code-blue">12</span>
    </div>
    <div class="info-panel__district-region">
      <div id="district-name" class="info-panel__district">Shangaani</div>
      <div id="region-name" class="info-panel__region">Banaadir 03</div>
    </div>
    <button id="register-this-address-btn" class="floating-btn primary-btn" type="button">Register This Address</button>
  </div>

  <!-- Load Google Maps using the injected key from config.js -->
  <script type="module">
    import { GOOGLE_MAPS_API_KEY } from '/js/config.js';
    const s = document.createElement('script');
    s.src = `https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(GOOGLE_MAPS_API_KEY)}&libraries=geometry,places`;
    s.async = true;
    s.defer = true;
    document.head.appendChild(s);
  </script>

  <!-- App code (waits for Maps via waitForGoogleMaps) -->
  <script type="module" src="/js/somalia-map.js"></script>
</body>
</html>
