<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>6D Address - Somalia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/somalia-map.css">
    <link rel="stylesheet" href="css/global-map.css">
</head>
<body>

    <aside id="sidebar">
        <div class="sidebar-header">
            <img src="assets/logo-somalia.png" alt="6D Address Logo" class="logo">
            <span class="logo-text">6D Address</span>
            <button id="sidebar-toggle-btn" title="Toggle Sidebar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        <div id="welcome-view" class="sidebar-view active">
            <div class="sidebar-content">
                <h3>Welcome to 6D Address</h3>
                <p>This is a new addressing system for Somalia.</p>
                <p><strong>How it works:</strong> Click anywhere on the map to generate a unique 6-digit code for that location. You can then register this address for official use.</p>
                <p>Use the "Find My 6D Address" button to start.</p>
            </div>
        </div>
        <div id="registration-view" class="sidebar-view">
            <!-- Registration form will be populated here by JS -->
            <h3>Register Address</h3>
            <form id="registration-form">
                <input type="text" id="reg-6d-code" name="6d-code" readonly>
                <select id="reg-region" name="region"></select>
                <select id="reg-district" name="district"></select>
                <input type="text" id="reg-name" name="name" placeholder="Full Name">
                <input type="tel" id="reg-phone" name="phone" placeholder="Phone Number">
                <button type="submit" id="register-btn">Register</button>
            </form>
        </div>
        <nav class="sidebar-nav">
            <ul class="nav-links">
                <li><a href="#" id="login-register-btn"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg> <span>Login / Register</span></a></li>
                <li><a href="/index.html"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg> <span>Global Map</span></a></li>
                <li><a href="#"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg> <span>About Us</span></a></li>
                <li><a href="#"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg> <span>Contact Us</span></a></li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <div class="divider"></div>
            <ul class="nav-links">
                <li><a href="#"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg> <span>Settings</span></a></li>
                <li class="theme-toggle-li">
                    <div class="theme-toggle-wrapper">
                        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-5.4-5.4c0-1.54.65-2.94 1.69-3.93A8.994 8.994 0 0 0 12 3z"/></svg>
                        <span>Light/Dark Mode</span>
                        <button id="theme-toggle-btn" role="switch" aria-checked="false" class="theme-toggle-switch">
                            <span class="theme-toggle-thumb"></span>
                        </button>
                    </div>
                </li>
            </ul>
        </div>
    </aside>

    <main>
        <div id="map"></div>
        <div id="loader" class="visible"><div class="spinner"></div></div>
        <div id="info-panel">
            <div id="info-panel-initial" class="info-panel-view active"><button id="find-my-location-btn" class="btn" disabled>Find My 6D Address</button></div>
            <div id="info-panel-loading" class="info-panel-view"><div class="spinner-small"></div><span>Locating...</span></div>
            <div id="info-panel-address" class="info-panel-view">
                <div class="address-details">
                    <div class="code-display"></div>
                    <div class="location-text"></div>
                </div>
                <button id="register-this-address-btn" class="btn btn-primary">Register This Address</button>
            </div>
        </div>
    </main>

    <script id="google-maps-script" async></script>
    <script src="js/config.js" type="module"></script>
    <script src="js/utils.js" type="module"></script>
    <script src="js/map-core.js" type="module"></script>
    <script src="js/somalia-map.js" type="module"></script>

</body>
</html>