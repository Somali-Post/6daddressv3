<body>
    <div id="map"></div>

    <!-- FR-2: The Info Panel (The Action Center) -->
    <div id="info-panel" class="glass-panel">
        <!-- FR-2.1 (Default State) -->
        <div id="info-panel-default">
            <button id="find-my-address-btn">
                <img src="../assets/geolocate.svg" alt="Find My Location">
                <span>Find My 6D Address</span>
            </button>
        </div>
        <!-- FR-2.3 (Clicked State) - Initially hidden -->
        <div id="info-panel-clicked" class="hidden">
            <div class="info-panel-address">
                <div class="code" id="info-code-display"></div>
                <div class="district" id="info-district-display"></div>
                <div class="region" id="info-region-display"></div>
            </div>
            <div class="info-panel-actions">
                <button id="register-btn">Register This Address</button>
                <div class="utility-buttons">
                    <button id="copy-btn" title="Copy Code">Copy</button>
                    <button id="share-btn" title="Share">Share</button>
                    <button id="recenter-btn" title="Recenter Map">Recenter</button>
                </div>
            </div>
        </div>
    </div>

    <!-- FR-3: The Sidebar (The Application Hub) -->
    <aside id="registration-sidebar" class="glass-panel">
        <button id="sidebar-toggle-btn" title="Toggle Sidebar">&equiv;</button>
        
        <!-- FR-3.1 (Default State - Welcome View) -->
        <div id="sidebar-welcome-view" class="sidebar-view">
            <div class="sidebar-header">
                <img src="assets/logo-somalia.png" alt="6D Address Somalia Logo">
                <h2>6D Soomaaliya</h2>
            </div>
            <div class="sidebar-content">
                <h3>Welcome to 6D Address</h3>
                <p>Your new digital address is just a few clicks away. Use the "Find My 6D Address" button or click on the map to begin.</p>
                <div class="sidebar-actions">
                    <div class="lang-switcher">
                        <button class="lang-btn active" data-lang="so">So</button>
                        <button class="lang-btn" data-lang="en">En</button>
                        <button class="lang-btn" data-lang="ar">Ar</button>
                    </div>
                    <button id="login-btn">Login</button>
                </div>
            </div>
        </div>

        <!-- Other sidebar views (Login, Register, Dashboard) will be added here later -->

    </aside>

    <!-- FR-3.5: The Confirmation Modal (Initially hidden) -->
    <div id="confirmation-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3>Confirm Your Location</h3>
            <p>Are you sure this is your home location?</p>
            <div class="modal-buttons">
                <button id="modal-cancel-btn" class="modal-button cancel">Cancel</button>
                <button id="modal-confirm-btn" class="modal-button confirm">Yes, I'm Sure</button>
            </div>
        </div>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap&v=weekly&libraries=geometry" async defer></script>
    <script type="module" src="../js/somalia-map.js"></script>
</body>